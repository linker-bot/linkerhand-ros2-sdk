# hand_config_const.py
from typing import Dict, List, Optional
from dataclasses import dataclass, field
from types import MappingProxyType

@dataclass(frozen=True)        # frozen=True 让实例真正只读
class HandConfig:
    joint_names: List[str] = field(default_factory=list)
    joint_names_en: Optional[List[str]] = None
    init_pos: List[int] = field(default_factory=list)
    preset_actions: Optional[Dict[str, List[int]]] = None

# ------------------------------------------------------------------
# 常量字典（仅构建一次）
# ------------------------------------------------------------------
_HAND_CONFIGS: Dict[str, HandConfig] = {
    "L25": HandConfig(
        joint_names=["大拇指根部", "食指根部", "中指根部", "无名指根部", "小拇指根部",
                     "大拇指侧摆", "食指侧摆", "中指侧摆", "无名指侧摆", "小拇指侧摆",
                     "大拇指横滚", "预留", "预留", "预留", "预留", "大拇指中部", "食指中部",
                     "中指中部", "无名指中部", "小拇指中部", "大拇指指尖", "食指指尖",
                     "中指指尖", "无名指指尖", "小拇指指尖"],
        init_pos=[255] * 25,
        preset_actions={
            "握拳": [0] * 25,
            "张开": [255] * 25,
            "OK": [255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
                   255, 255, 255, 255, 255, 255, 0, 0, 255, 255,
                   0, 0, 0, 255, 255]
        }
    ),
    "L21": HandConfig(
        joint_names=["大拇指根部", "食指根部", "中指根部", "无名指根部", "小拇指根部",
                     "大拇指侧摆", "食指侧摆", "中指侧摆", "无名指侧摆", "小拇指侧摆",
                     "大拇指横滚", "预留", "预留", "预留", "预留", "大拇指中部", "预留",
                     "预留", "预留", "预留", "大拇指指尖", "食指指尖", "中指指尖",
                     "无名指指尖", "小拇指指尖"],
        init_pos=[255] * 25
    ),
    "L20": HandConfig(
        joint_names=["拇指根部", "食指根部", "中指根部", "无名指根部", "小指根部",
                     "拇指侧摆", "食指侧摆", "中指侧摆", "无名指侧摆", "小指侧摆",
                     "拇指横摆", "预留", "预留", "预留", "预留", "拇指尖部", "食指末端",
                     "中指末端", "无名指末端", "小指末端"],
        init_pos=[255, 255, 255, 255, 255, 255, 10, 100, 180, 240, 245, 255, 255, 255, 255, 255, 255, 255, 255, 255],
        preset_actions={
            "握拳": [40, 0, 0, 0, 0, 131, 10, 100, 180, 240, 19, 255, 255, 255, 255, 135, 0, 0, 0, 0],
            "张开": [255, 255, 255, 255, 255, 255, 10, 100, 180, 240, 245, 255, 255, 255, 255, 255, 255, 255, 255, 255],
            "OK": [191, 95, 255, 255, 255, 136, 107, 100, 180, 240, 72, 255, 255, 255, 255, 116, 99, 255, 255, 255],
            "点赞": [255, 0, 0, 0, 0, 127, 10, 100, 180, 240, 255, 255, 255, 255, 255, 255, 0, 0, 0, 0],
            "拇指对食指": [0, 0, 255, 255, 255, 186, 10, 100, 180, 240, 0, 255, 255, 255, 255, 255, 183, 255, 255, 255],
            "拇指对中指": [0, 255, 0, 255, 255, 145, 10, 100, 180, 240, 0, 255, 255, 255, 255, 255, 255, 202, 255, 255],
            "拇指对无名指": [0, 255, 255, 0, 255, 108, 10, 100, 180, 240, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255],
            "拇指对小指": [0, 255, 255, 255, 0, 70, 10, 100, 180, 240, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255],
            "准备1": [255, 255, 255, 255, 255, 255, 10, 100, 180, 240, 245, 255, 255, 255, 255, 255, 255, 255, 255, 255],
            "壹": [40, 255, 0, 0, 0, 131, 125, 100, 180, 240, 19, 255, 255, 255, 255, 135, 255, 0, 0, 0],
            "贰": [40, 255, 255, 0, 0, 81, 35, 177, 180, 240, 19, 255, 255, 255, 255, 135, 255, 255, 0, 0],
            "叁": [40, 255, 255, 255, 0, 161, 62, 123, 180, 240, 13, 255, 255, 255, 255, 0, 255, 255, 255, 0],
            "肆": [40, 255, 255, 255, 255, 161, 62, 123, 180, 242, 13, 255, 255, 255, 255, 0, 255, 255, 255, 255],
            "伍": [255, 255, 255, 255, 255, 255, 10, 100, 180, 240, 245, 255, 255, 255, 255, 255, 255, 255, 255, 255],
            "陆": [255, 0, 0, 0, 255, 220, 10, 100, 180, 255, 255, 255, 255, 255, 255, 255, 0, 0, 0, 255],
            "漆": [0, 0, 0, 0, 0, 161, 10, 127, 180, 219, 18, 255, 255, 255, 255, 255, 195, 205, 0, 0],
            "捌": [255, 255, 0, 0, 0, 202, 104, 100, 180, 240, 233, 255, 255, 255, 255, 255, 255, 0, 0, 0],
            "玖": [40, 255, 0, 0, 0, 131, 103, 100, 180, 240, 19, 255, 255, 255, 255, 135, 47, 0, 0, 0],
            
        }
    ),
    "G20": HandConfig(
        joint_names=["拇指根部", "食指根部", "中指根部", "无名指根部", "小指根部",
                     "拇指侧摆", "食指侧摆", "中指侧摆", "无名指侧摆", "小指侧摆",
                     "拇指横摆", "预留", "预留", "预留", "预留", "拇指尖部", "食指末端",
                     "中指末端", "无名指末端", "小指末端"],
        init_pos=[255, 255, 255, 255, 255, 255, 193, 148, 105, 42, 245, 255, 255, 255, 255, 255, 255, 255, 255, 255],
        preset_actions={
            "点赞": [255, 0, 0, 0, 0, 255, 162, 162, 144, 100, 210, 255, 255, 255, 255, 255, 0, 0, 0, 0],
            "握拳": [96, 0, 0, 0, 0, 0, 193, 158, 128, 91, 132, 255, 255, 255, 255, 144, 0, 0, 0, 0],
            "张开": [255, 255, 255, 255, 255, 255, 193, 148, 105, 42, 245, 255, 255, 255, 255, 255, 255, 255, 255, 255],
            "OK": [148, 110, 255, 255, 255, 44, 164, 100, 114, 127, 178, 255, 255, 255, 255, 94, 71, 255, 255, 255],
            "拇指对中指": [191, 255, 55, 255, 255, 96, 95, 100, 114, 127, 105, 255, 255, 255, 255, 94, 255, 108, 255, 255],
            "拇指对无名指": [191, 255, 255, 72, 255, 115, 95, 100, 114, 127, 60, 255, 255, 255, 255, 94, 255, 255, 97, 255],
            "拇指对小指": [191, 255, 255, 255, 55, 0, 95, 100, 114, 121, 70, 255, 255, 255, 255, 94, 255, 255, 255, 100],
            "准备1": [255, 0, 0, 0, 0, 255, 162, 162, 144, 100, 210, 255, 255, 255, 255, 255, 0, 0, 0, 0],
            "壹": [96, 255, 0, 0, 0, 0, 190, 161, 127, 80, 68, 255, 255, 255, 255, 144, 255, 0, 0, 0],
            "贰": [96, 255, 255, 0, 0, 0, 190, 66, 127, 80, 68, 255, 255, 255, 255, 144, 255, 255, 0, 0],
            "叁": [96, 255, 255, 255, 0, 0, 200, 132, 76, 80, 68, 255, 255, 255, 255, 144, 255, 255, 255, 0],
            "肆": [80, 255, 255, 255, 255, 78, 200, 132, 114, 48, 129, 255, 255, 255, 255, 64, 255, 255, 255, 255],
            "伍": [255, 255, 255, 255, 255, 255, 193, 148, 105, 42, 245, 255, 255, 255, 255, 255, 255, 255, 255, 255],
            "陆": [255, 0, 0, 0, 255, 255, 156, 126, 125, 42, 245, 255, 255, 255, 255, 255, 0, 0, 0, 255],
            "漆": [38, 0, 0, 0, 0, 55, 156, 126, 125, 117, 145, 255, 255, 255, 255, 255, 164, 163, 0, 0],
            "捌": [255, 255, 0, 0, 0, 255, 162, 162, 144, 100, 210, 255, 255, 255, 255, 255, 255, 0, 0, 0],
            "玖": [67, 255, 0, 0, 0, 37, 162, 162, 144, 100, 85, 255, 255, 255, 255, 169, 0, 0, 0, 0],
            "动作1": [255, 255, 255, 255, 255, 255, 193, 148, 105, 42, 245, 255, 255, 255, 255, 255, 255, 255, 255, 255],
            "动作2": [255, 255, 255, 255, 255, 255, 125, 129, 125, 130, 245, 255, 255, 255, 255, 255, 255, 255, 255, 255],
            "动作3": [255, 255, 255, 255, 255, 255, 193, 148, 105, 42, 245, 255, 255, 255, 255, 255, 255, 255, 255, 255],
            "动作4": [255, 255, 255, 255, 255, 255, 125, 129, 125, 130, 245, 255, 255, 255, 255, 255, 255, 255, 255, 255],
            "动作5": [255, 255, 255, 255, 255, 255, 255, 255, 247, 255, 210, 255, 255, 255, 255, 255, 255, 255, 255, 255],
            "动作6": [255, 255, 255, 255, 255, 255, 0, 0, 0, 0, 210, 255, 255, 255, 255, 255, 255, 255, 255, 255],
            "动作7": [255, 255, 255, 255, 255, 255, 255, 255, 247, 255, 210, 255, 255, 255, 255, 255, 255, 255, 255, 255],
            "动作8": [255, 255, 255, 255, 255, 255, 0, 0, 0, 0, 210, 255, 255, 255, 255, 255, 255, 255, 255, 255],
            "动作9": [255, 255, 255, 255, 255, 255, 125, 129, 125, 130, 210, 255, 255, 255, 255, 255, 255, 255, 255, 255],
            "根部1": [0, 0, 0, 0, 0, 255, 125, 129, 125, 130, 245, 255, 255, 255, 255, 255, 255, 255, 255, 255],
            "根部2": [255, 255, 255, 255, 255, 255, 125, 129, 125, 130, 245, 255, 255, 255, 255, 255, 255, 255, 255, 255],
            "根部1": [0, 0, 0, 0, 0, 255, 125, 129, 125, 130, 245, 255, 255, 255, 255, 255, 255, 255, 255, 255],
            "根部2": [255, 255, 255, 255, 255, 255, 125, 129, 125, 130, 245, 255, 255, 255, 255, 255, 255, 255, 255, 255],
            "末端1": [6, 0, 0, 0, 0, 255, 125, 129, 125, 130, 219, 255, 255, 255, 255, 125, 0, 0, 0, 0],
            "末端2": [6, 0, 0, 0, 0, 255, 125, 129, 125, 130, 219, 255, 255, 255, 255, 255, 255, 255, 255, 255],
            "末端3": [6, 0, 0, 0, 0, 255, 125, 129, 125, 130, 219, 255, 255, 255, 255, 125, 0, 0, 0, 0],
            "末端4": [6, 0, 0, 0, 0, 255, 125, 129, 125, 130, 219, 255, 255, 255, 255, 255, 255, 255, 255, 255],
            "默认": [255, 255, 255, 255, 255, 255, 193, 148, 105, 42, 245, 255, 255, 255, 255, 255, 255, 255, 255, 255]


        }
    ),
    # 大拇指关节球版L10
    # "L10": HandConfig(
    #     joint_names_en=["thumb_cmc_pitch", "thumb_cmc_roll", "index_mcp_pitch", "middle_mcp_pitch", "ring_mcp_pitch", "pinky_mcp_pitch",
    #                     "index_mcp_roll", "ring_mcp_roll", "pinky_mcp_roll", "thumb_cmc_yaw"],
    #     joint_names=["拇指根部", "拇指侧摆", "食指根部", "中指根部", "无名指根部",
    #                  "小指根部", "食指侧摆", "无名指侧摆", "小指侧摆", "拇指旋转"],
    #     init_pos=[255] * 10,
    #     preset_actions={
    #         "握拳": [75, 128, 0, 0, 0, 0, 128, 128, 128, 57],
    #         "张开": [255, 128, 255, 255, 255, 255, 128, 128, 128, 128],
    #         "OK": [110, 128, 75, 255, 255, 255, 128, 128, 128, 68],
    #         "点赞": [255, 145, 0, 0, 0, 0, 0, 255, 255, 65]
    #     }
    # ),
    # 大拇指关节齿轮版L10
    "L10": HandConfig(
        joint_names_en=["thumb_cmc_pitch", "thumb_cmc_yaw", "index_mcp_pitch", "middle_mcp_pitch", "ring_mcp_pitch", "pinky_mcp_pitch",
                        "index_mcp_roll", "ring_mcp_roll", "pinky_mcp_roll", "thumb_cmc_roll"],
        joint_names=["拇指根部", "拇指侧摆", "食指根部", "中指根部", "无名指根部",
                     "小指根部", "食指侧摆", "无名指侧摆", "小指侧摆", "拇指旋转"],
        init_pos=[255] * 10,
        preset_actions={
            "张开": [255, 255, 255, 255, 255, 255, 128, 67, 89, 255],
            "点赞": [255, 255, 0, 0, 0, 0, 128, 67, 89, 255],
            "握拳": [90, 0, 0, 0, 0, 0, 128, 67, 89, 197],
            "壹": [55, 0, 255, 0, 0, 0, 128, 67, 89, 124],
            "贰": [55, 0, 255, 255, 0, 0, 128, 67, 89, 124],
            "叁": [116, 255, 255, 255, 255, 0, 128, 67, 89, 255],
            "肆": [0, 0, 255, 255, 255, 255, 128, 67, 89, 255],
            "伍": [255, 255, 255, 255, 255, 255, 128, 67, 89, 255],
            "陆": [255, 255, 0, 0, 0, 255, 128, 67, 89, 255],
            "柒1": [255, 37, 119, 112, 0, 0, 128, 67, 89, 211],
            "柒2": [91, 37, 119, 112, 0, 0, 128, 67, 89, 211],
            "捌": [255, 255, 255, 0, 0, 0, 128, 67, 89, 255],
            "玖": [59, 0, 134, 0, 0, 0, 128, 67, 89, 153],
            "侧摆0": [255, 0, 255, 255, 255, 255, 128, 67, 89, 153],
            "侧摆1": [0, 0, 255, 255, 255, 255, 255, 255, 255, 255],
            "侧摆2": [0, 0, 255, 255, 255, 255, 0, 0, 0, 255],
            "侧摆3": [0, 0, 255, 255, 255, 255, 255, 255, 255, 255],
            "侧摆4": [0, 0, 255, 255, 255, 255, 0, 0, 0, 255],
            "侧摆5": [0, 0, 255, 255, 255, 255, 255, 255, 255, 255],
            "侧摆6": [0, 0, 255, 255, 255, 255, 128, 67, 89, 255],
            "弯曲1": [209, 0, 124, 122, 123, 122, 128, 67, 89, 255],
            "弯曲2": [0, 0, 255, 255, 255, 255, 128, 67, 89, 255],
            "弯曲3": [209, 0, 124, 122, 123, 122, 128, 67, 89, 255],
            "弯曲4": [0, 0, 255, 255, 255, 255, 128, 67, 89, 255],
            "弯曲5": [209, 0, 124, 122, 123, 122, 128, 67, 89, 255],
            "弯曲6": [0, 0, 255, 255, 255, 255, 128, 67, 89, 255],
            "OK": [84, 39, 122, 255, 255, 255, 128, 67, 89, 255],
            "拇指压感1": [134, 39, 99, 255, 255, 255, 128, 67, 89, 255],
            "拇指压感2": [73, 39, 91, 255, 255, 255, 128, 67, 89, 255],
            "食指压感1": [151, 39, 190, 255, 255, 255, 128, 67, 89, 255],
            "食指压感2": [58, 39, 103, 255, 255, 255, 128, 67, 89, 255],
            "中指压感1": [40, 39, 255, 128, 255, 255, 128, 67, 89, 209],
            "中指压感2": [40, 39, 255, 89, 255, 255, 128, 67, 89, 209],
            "无名指压感1": [51, 39, 255, 255, 139, 255, 128, 67, 89, 154],
            "无名指压感2": [51, 39, 255, 255, 83, 255, 128, 67, 89, 154],
            "小拇指压感1": [62, 39, 255, 255, 255, 155, 128, 67, 89, 101],
            "小拇指压感2": [62, 39, 255, 255, 255, 75, 128, 67, 89, 101],
        }
    ),
    # 大拇指关节球版L7
    # "L7": HandConfig(
    #     joint_names=["大拇指弯曲", "大拇指横摆", "食指弯曲", "中指弯曲", "无名指弯曲",
    #                  "小拇指弯曲", "拇指旋转"],
    #     init_pos=[250] * 7,
    #     preset_actions={
    #         "点赞": [255, 111, 0, 0, 0, 0, 86],
    #         "握拳": [71, 79, 0, 0, 0, 0, 64],
    #         "张开": [255, 111, 250, 250, 250, 250, 55],
    #         "OK": [141, 111, 168, 250, 250, 250, 86],
            
    #     }
    # ),
    # 大拇指关节齿轮版L7
    "L7": HandConfig(
        joint_names_en=["thumb_cmc_pitch", "thumb_cmc_yaw", "index_mcp_pitch", "middle_mcp_pitch", "ring_mcp_pitch", "pinky_mcp_pitch", "thumb_cmc_roll"],
        joint_names=["大拇指弯曲", "大拇指横摆", "食指弯曲", "中指弯曲", "无名指弯曲", "小拇指弯曲", "拇指旋转"],
        init_pos=[250] * 7,
        preset_actions={
            "张开": [255, 111, 250, 250, 250, 250, 55],
            "点赞": [255, 255, 0, 0, 0, 0, 255],
            "赞2": [255, 0, 0, 0, 0, 0, 255],
            "握拳": [65, 0, 0, 0, 0, 0, 93],
            "壹": [66, 0, 255, 0, 0, 0, 93],
            "壹1": [61, 0, 255, 0, 0, 0, 255],
            "贰": [0, 0, 255, 255, 0, 0, 255],
            "叁": [0, 0, 255, 255, 255, 0, 255],
            "肆": [0, 0, 255, 255, 255, 255, 119],
            "伍": [255, 111, 250, 250, 250, 250, 55],
            "OK": [99, 15, 146, 250, 250, 250, 206],
            "拇指压感1": [99, 15, 206, 250, 250, 250, 206],
            "拇指压感2": [109, 15, 70, 250, 250, 250, 206],
            "食指压感1": [99, 15, 206, 250, 250, 250, 206],
            "食指压感2": [69, 15, 140, 250, 250, 250, 206],
            "中指压感": [82, 15, 255, 136, 250, 250, 170],
            "无名指压感": [70, 15, 255, 255, 141, 250, 125],
            "小拇指压感": [70, 15, 255, 255, 255, 120, 78],
            "准备1": [70, 15, 255, 255, 255, 255, 78]
            
        }
    ),
    "O6": HandConfig(
        joint_names_en=["thumb_cmc_pitch", "thumb_cmc_yaw", "index_mcp_pitch", "middle_mcp_pitch", "pinky_mcp_pitch", "ring_mcp_pitch"],
        joint_names=["大拇指弯曲", "大拇指横摆", "食指弯曲", "中指弯曲", "无名指弯曲", "小拇指弯曲"],
        init_pos=[250] * 6,
        preset_actions={
            "张开": [250, 250, 250, 250, 250, 250],
            "壹": [125, 18, 255, 0, 0, 0],
            "贰": [92, 87, 255, 255, 0, 0],
            "叁": [92, 87, 255, 255, 255, 0],
            "肆": [92, 87, 255, 255, 255, 255],
            "伍": [255, 255, 255, 255, 255, 255],
            "OK": [139, 91, 103, 250, 250, 250],
            "点赞": [250, 79, 0, 0, 0, 0],
            "握拳": [102, 18, 0, 0, 0, 0],
        }
    ),
    "L6": HandConfig(
        joint_names_en=["thumb_cmc_pitch", "thumb_cmc_yaw", "index_mcp_pitch", "middle_mcp_pitch", "pinky_mcp_pitch", "ring_mcp_pitch"],
        joint_names=["大拇指弯曲", "大拇指横摆", "食指弯曲", "中指弯曲", "无名指弯曲", "小拇指弯曲"],
        init_pos=[250] * 6,
        preset_actions={
            "张开": [250, 250, 250, 250, 250, 250],
            "壹": [0, 18, 255, 0, 0, 0],
            "贰": [0, 39, 255, 255, 0, 0],
            "叁": [0, 39, 255, 255, 255, 0],
            "肆": [0, 0, 255, 255, 255, 255],
            "伍": [255, 255, 255, 255, 255, 255],
            "OK": [74, 13, 153, 255, 255, 255],
            "点赞": [255, 255, 0, 0, 0, 0],
            "握拳": [79, 11, 0, 0, 0, 0],
            "序列动作1": [250, 250, 250, 250, 250, 250],
            "序列动作2": [250, 250, 0, 250, 250, 0],
            "序列动作3": [250, 250, 0, 0, 0, 0],
            "序列动作4": [250, 250, 0, 0, 0, 255],
            "序列动作5": [250, 250, 0, 0, 255, 255],
            "序列动作6": [250, 250, 0, 255, 255, 255],
            "序列动作7": [250, 250, 250, 250, 250, 250],
            "食指压感准备1": [0, 18, 255, 0, 0, 0],
            "食指压感测试": [9, 42, 55, 250, 250, 250],
            "食指压感准备2": [0, 18, 255, 0, 0, 0],
            "拇指压感准备1": [139, 18, 130, 0, 0, 0],
            "拇指压感测试": [39, 30, 122, 250, 250, 250],
            "拇指压感准备2": [139, 18, 130, 0, 0, 0]
        }
    ),
}
HAND_CONFIGS = MappingProxyType(_HAND_CONFIGS)
